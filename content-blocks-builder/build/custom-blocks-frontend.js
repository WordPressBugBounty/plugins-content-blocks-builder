(()=>{"use strict";const t="transitionend",e=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),i=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),s=t=>{return i(t)?t?.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(((e=t)&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),e)):null;var e},n=(e,i,s=!1)=>{if("function"==typeof e){if(s)return void e();const n=5,l=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const s=Number.parseFloat(e),n=Number.parseFloat(i);return s||n?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0})(i)+n;let a=!1;const r=({target:s})=>{s===i&&(a=!0,i.removeEventListener(t,r),o(e))};i.addEventListener(t,r),setTimeout(()=>{a||i.dispatchEvent(new Event(t))},l)}},o=t=>{"function"==typeof t&&t()},l=t=>{t.offsetHeight},a=()=>"rtl"===document.documentElement.dir,r=(t,e)=>{var i;window.CBB=null!==(i=window?.CBB)&&void 0!==i?i:{},window.CBB={...window.CBB,[t]:e}},c=t=>{try{return JSON.parse(Object.assign(document.createElement("textarea"),{innerHTML:t||"{}"}).value)}catch{return{}}},d=t=>"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t),h=t=>{var i;"object"!==e(t)&&console.error("The parameter must be an object");let s=null!==(i=window?.CBB?.Util)&&void 0!==i&&i;s="object"===e(s)?{...s,...t}:t,r("Util",s)};h({toType:e,getUID:t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t},noop:()=>{},isElement:i,executeAfterTransition:n,execute:o,reflow:l,isRTL:a,parseJSON:c,domReady:d,exposeComponent:r});const u={SHOW:"show.boldblocks",SHOWN:"shown.boldblocks",HIDE:"hide.boldblocks",HIDDEN:"hidden.boldblocks",INIT:"init.boldblocks"},g=(t,e,i={})=>{const s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});return t.dispatchEvent(s),s};function f(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function m(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function p(t,e){return f(t.getAttribute(`data-${m(e)}`))}h({EVENTS:u,triggerEvent:g}),r("Dataset",{normalizeData:f,normalizeDataKey:m,getDataAttributes:function(t,e=t=>t,i=t=>t){if(!t)return{};const s={},n=Object.keys(t.dataset).filter(e);for(const e of n){let n=i(e);n=n.charAt(0).toLowerCase()+n.slice(1,n.length),s[n]=f(t.dataset[e])}return s},getDataAttribute:p,setDataAttribute:function(t,e,i){t.setAttribute(`data-${m(e)}`,i)},removeDataAttribute:function(t,e){t.removeAttribute(`data-${m(e)}`)}});const y=new Map,b={set(t,e,i){y.has(t)||y.set(t,new Map);const s=y.get(t);s.has(e)||0===s.size?s.set(e,i):console.error(`Doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(t,e)=>y.has(t)&&y.get(t).get(e)||null,remove(t,e){if(!y.has(t))return;const i=y.get(t);i.delete(e),0===i.size&&y.delete(t)}};r("Data",b);class _{constructor(t,e){(t=s(t))&&(this._element=t,this._config=this._getConfig(e),b.set(this._element,this.constructor.DATA_KEY,this))}dispose(){b.remove(this._element,this.constructor.DATA_KEY)}_queueCallback(t,e,i=!1){n(t,e,i)}_getConfig(t,e=this._element){return this._mergeConfigObj(t,e)}_mergeConfigObj(t,e){const s=i(e)?p(e,"cbbConfig"):{};return{...this.defaultConfig(),..."object"==typeof s?s:{},..."object"==typeof t?t:{}}}_parseConfigObj(t){return{...this.constructor.Default,..."object"==typeof t?t:{}}}defaultConfig(){return{}}filterKey(t){return t}refineKey(t){return t}static getInstance(t){return b.get(s(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`cbb.${this.NAME}`}}r("BaseComponent",_);class v{constructor(t={}){this._element=null,this._isAppended=!1;const e={isVisible:!0,rootElement:document.body,classBackdrop:"modal-backdrop fade",classShow:"show",clickCallback:null};this._config=Object.assign(e,t)}show(t){this._config.isVisible?(this._append(),l(this._getElement()),this._getElement().classList.add(this._config.classShow),n(t,this._getElement())):o(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(this._config.classShow),n(()=>{this.dispose(),t()},this._getElement())):o(t)}dispose(){this._isAppended&&(this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.classBackdrop,this._element=t}return this._element}_append(){this._isAppended||(this._config.rootElement.appendChild(this._getElement()),"function"==typeof this._config.clickCallback&&this._getElement().addEventListener("click",t=>{t.preventDefault(),this._config.clickCallback()}),this._isAppended=!0)}}r("Backdrop",v);const w="padding-right";class E{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,w,e=>e+t)}reset(){this._resetElementAttributes("overflow"),this._resetElementAttributes(w)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,t=>{if(window.innerWidth>t.clientWidth+s)return;this._saveInitialAttribute(t,e);const n=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(n))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&t.setAttribute(`data-${e}`,i)}_resetElementAttributes(t){const e=this._element?.dataset?this._element.dataset[t]:null;this._element.removeAttribute(`data-${t}`),e?this._element.style.setProperty(t,e):this._element.style.removeProperty(t)}_applyManipulationCallback(t,e){e(t)}}r("ScrollBarHelper",E);class x extends _{constructor(t,e={}){var i;if(super(t,e),!t)return;this.element=this._element;const{dataset:s={},datasetElement:n,triggerArray:o}=this._config;this._dataset=Object.assign({toggleStateShown:"shown"},s,null!==(i=n?.dataset)&&void 0!==i?i:{});const{toggleElement:l,transitionProperty:a="height",toggleState:r,toggleStateShown:c}=this._dataset;if(o)this._triggerArray=o;else{const t=l&&l.trim();this._triggerArray=t?Array.from(document.querySelectorAll(t)):[]}this.transitionProperty=a,this.calculatedTransitionProperty=-1!==["width","height"].indexOf(a)?`scroll${a[0].toUpperCase()+a.slice(1)}`:"",this.isOpen=r===c,this._isTransitioning=!1,this.init()}static get NAME(){return"collapse"}defaultConfig(){return{triggerArray:null,dataset:null,datasetElement:this._element,classTarget:"collapse",classTrigger:"",classShow:"show",classCollapsing:"collapsing",classToggledOn:"is-toggled-on",classToggledOff:"is-toggled-off",selectorText:".toggle__text",instanceIndex:0}}init(){this._setupClasses(),this._addAriaAndToggledClass(),this._attachClickHandler(),this.isOpen&&requestAnimationFrame(()=>{g(window,u.SHOWN,{target:this._element})}),g(window,u.INIT,{target:this._element})}_setupClasses(){const t=this._element,e=this._triggerArray,{classTrigger:i,classTarget:s,classShow:n,instanceIndex:o}=this._config;t.classList.add(`transition-${this.transitionProperty}`),t.classList.contains(s)||t.classList.add(s);const l=this.isOpen;t.classList.toggle(n,l);let a=t.getAttribute("id");if(a||(a=`bb-collapse-${o}`,t.setAttribute("id",a)),i&&e.length)for(const t of e)t.classList.contains(i)||t.classList.add(i),t.setAttribute("aria-controls",`#${a}`),"DIV"!==t.tagName.toUpperCase()||t?.role||t.setAttribute("role","button")}_attachClickHandler(){this.clickHandler=this.toggle.bind(this);const t=this._triggerArray;if(t?.length)for(const e of t)e.addEventListener("click",this.clickHandler),["BUTTON","INPUT"].includes(e.tagName)||e.addEventListener("keydown",t=>{13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.clickHandler())})}toggle(t){t&&t?.preventDefault&&t.preventDefault(),this.isOpen?this.hide():this.show()}show(){if(this.isOpen||this._isTransitioning)return;const t=this._element,{classCollapsing:e,classTarget:i}=this._config,s=this.transitionProperty;g(t,u.SHOW),this.isOpen=!0,this._setTransitioning(!0),this._addAriaAndToggledClass(),t.classList.remove(i),t.classList.add(e),t.style[s]=0,this._queueCallback(this._transitionEnd.bind(this),t),t.style[s]=`${t[this.calculatedTransitionProperty]}px`}hide(){if(!this.isOpen||this._isTransitioning)return;const t=this._element,{classCollapsing:e,classTarget:i,classShow:s}=this._config,n=this.transitionProperty;g(t,u.HIDE),this.isOpen=!1,this._setTransitioning(!0),this._addAriaAndToggledClass(),t.style[n]=`${t[this.calculatedTransitionProperty]}px`,l(t),t.classList.add(e),t.classList.remove(i,s),t.style[n]="",this._queueCallback(this._transitionEnd.bind(this),t)}_addAriaAndToggledClass(){const t=this.isOpen,e=this._triggerArray;if(e.length){const{classToggledOn:i,classToggledOff:s}=this._config;for(const n of e)n.classList.toggle(i,t),n.classList.toggle(s,!t),n.setAttribute("aria-expanded",t)}}_setTransitioning(t){this._isTransitioning=t}_transitionEnd(){this._setTransitioning(!1);const t=this._element,{classCollapsing:e,classTarget:i,classShow:s}=this._config,n=this.isOpen;t.classList.remove(e),n?(t.style[this.transitionProperty]="",t.classList.add(i,s),"true"===this._dataset?.toggleFocusFirstElement&&this._focusFirstFocusableElement(t),g(t,u.SHOWN),g(window,u.SHOWN,{target:t})):(t.classList.add(i),g(t,u.HIDDEN),g(window,u.HIDDEN,{target:t}))}_focusFirstFocusableElement(t){const e=t.querySelector('button, input:not([type="hidden"]), select, textarea');e&&e.focus()}dispose(){super.dispose();const t=this._triggerArray,{classToggledOn:e,classToggledOff:i,classShow:s}=this._config;if(t.length)for(const s of t)s.classList.remove(e),s.classList.remove(i),s.removeEventListener("click",this.clickHandler);this._element.classList.add(s)}}r("Collapse",x);const S=x;class A extends _{constructor(t,e={}){super(t,e),t&&(this.toggleElements=Array.from(t.querySelectorAll(".accordion-header")),this.toggleElements.length&&(this.collapseInstances=[],this.init()))}static get NAME(){return"accordion"}defaultConfig(){return{multipleOpens:"true"===this._element?.dataset?.multipleOpens}}init(){this.collapseInstances=this.toggleElements.map(t=>{const e=t.parentNode.querySelector(".accordion-collapse");return e.addEventListener(u.SHOW,()=>{t.classList.toggle("is-expanded",!0)}),e.addEventListener(u.HIDE,()=>{t.classList.toggle("is-expanded",!1)}),new S(e,{triggerArray:[t.querySelector(".accordion-link")],datasetElement:t})}),window.addEventListener(u.SHOWN,({detail:{target:t={}}={}}={})=>{t?.previousSibling?.classList&&t.previousSibling.classList.toggle("is-expanded",!0)}),this._config.multipleOpens||this.collapseInstances.forEach((t,e)=>t.element.addEventListener(u.SHOW,this.toggleOtherActiveElements.bind(this,e)))}toggleOtherActiveElements(t){this.collapseInstances.filter((e,i)=>e.isOpen&&t!==i).forEach(t=>t.hide())}dispose(){super.dispose(),this.collapseInstances.forEach(t=>t.dispose())}}r("Accordion",A);const L=A;d(()=>document.querySelectorAll(".is-accordion").forEach(t=>new L(t)));const T=Math.min,C=Math.max,O=Math.round,k=Math.floor,D=t=>({x:t,y:t}),H={left:"right",right:"left",bottom:"top",top:"bottom"},N={start:"end",end:"start"};function I(t,e,i){return C(t,T(e,i))}function M(t,e){return"function"==typeof t?t(e):t}function R(t){return t.split("-")[0]}function B(t){return t.split("-")[1]}function F(t){return"x"===t?"y":"x"}function P(t){return"y"===t?"height":"width"}const q=new Set(["top","bottom"]);function $(t){return q.has(R(t))?"y":"x"}function W(t){return F($(t))}function j(t){return t.replace(/start|end/g,t=>N[t])}const z=["left","right"],V=["right","left"],U=["top","bottom"],Y=["bottom","top"];function K(t){return t.replace(/left|right|bottom|top/g,t=>H[t])}function J(t){const{x:e,y:i,width:s,height:n}=t;return{width:s,height:n,top:i,left:e,right:e+s,bottom:i+n,x:e,y:i}}function X(t,e,i){let{reference:s,floating:n}=t;const o=$(e),l=W(e),a=P(l),r=R(e),c="y"===o,d=s.x+s.width/2-n.width/2,h=s.y+s.height/2-n.height/2,u=s[a]/2-n[a]/2;let g;switch(r){case"top":g={x:d,y:s.y-n.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:h};break;case"left":g={x:s.x-n.width,y:h};break;default:g={x:s.x,y:s.y}}switch(B(e)){case"start":g[l]-=u*(i&&c?-1:1);break;case"end":g[l]+=u*(i&&c?-1:1)}return g}async function Z(t,e){var i;void 0===e&&(e={});const{x:s,y:n,platform:o,rects:l,elements:a,strategy:r}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:u=!1,padding:g=0}=M(e,t),f=function(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}(g),m=a[u?"floating"===h?"reference":"floating":h],p=J(await o.getClippingRect({element:null==(i=await(null==o.isElement?void 0:o.isElement(m)))||i?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:r})),y="floating"===h?{x:s,y:n,width:l.floating.width,height:l.floating.height}:l.reference,b=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),_=await(null==o.isElement?void 0:o.isElement(b))&&await(null==o.getScale?void 0:o.getScale(b))||{x:1,y:1},v=J(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:r}):y);return{top:(p.top-v.top+f.top)/_.y,bottom:(v.bottom-p.bottom+f.bottom)/_.y,left:(p.left-v.left+f.left)/_.x,right:(v.right-p.right+f.right)/_.x}}function G(){return"undefined"!=typeof window}function Q(t){return it(t)?(t.nodeName||"").toLowerCase():"#document"}function tt(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function et(t){var e;return null==(e=(it(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function it(t){return!!G()&&(t instanceof Node||t instanceof tt(t).Node)}function st(t){return!!G()&&(t instanceof Element||t instanceof tt(t).Element)}function nt(t){return!!G()&&(t instanceof HTMLElement||t instanceof tt(t).HTMLElement)}function ot(t){return!(!G()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof tt(t).ShadowRoot)}const lt=new Set(["inline","contents"]);function at(t){const{overflow:e,overflowX:i,overflowY:s,display:n}=_t(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+i)&&!lt.has(n)}const rt=new Set(["table","td","th"]);function ct(t){return rt.has(Q(t))}const dt=[":popover-open",":modal"];function ht(t){return dt.some(e=>{try{return t.matches(e)}catch(t){return!1}})}const ut=["transform","translate","scale","rotate","perspective"],gt=["transform","translate","scale","rotate","perspective","filter"],ft=["paint","layout","strict","content"];function mt(t){const e=pt(),i=st(t)?_t(t):t;return ut.some(t=>!!i[t]&&"none"!==i[t])||!!i.containerType&&"normal"!==i.containerType||!e&&!!i.backdropFilter&&"none"!==i.backdropFilter||!e&&!!i.filter&&"none"!==i.filter||gt.some(t=>(i.willChange||"").includes(t))||ft.some(t=>(i.contain||"").includes(t))}function pt(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const yt=new Set(["html","body","#document"]);function bt(t){return yt.has(Q(t))}function _t(t){return tt(t).getComputedStyle(t)}function vt(t){return st(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wt(t){if("html"===Q(t))return t;const e=t.assignedSlot||t.parentNode||ot(t)&&t.host||et(t);return ot(e)?e.host:e}function Et(t){const e=wt(t);return bt(e)?t.ownerDocument?t.ownerDocument.body:t.body:nt(e)&&at(e)?e:Et(e)}function xt(t,e,i){var s;void 0===e&&(e=[]),void 0===i&&(i=!0);const n=Et(t),o=n===(null==(s=t.ownerDocument)?void 0:s.body),l=tt(n);if(o){const t=St(l);return e.concat(l,l.visualViewport||[],at(n)?n:[],t&&i?xt(t):[])}return e.concat(n,xt(n,[],i))}function St(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function At(t){const e=_t(t);let i=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const n=nt(t),o=n?t.offsetWidth:i,l=n?t.offsetHeight:s,a=O(i)!==o||O(s)!==l;return a&&(i=o,s=l),{width:i,height:s,$:a}}function Lt(t){return st(t)?t:t.contextElement}function Tt(t){const e=Lt(t);if(!nt(e))return D(1);const i=e.getBoundingClientRect(),{width:s,height:n,$:o}=At(e);let l=(o?O(i.width):i.width)/s,a=(o?O(i.height):i.height)/n;return l&&Number.isFinite(l)||(l=1),a&&Number.isFinite(a)||(a=1),{x:l,y:a}}const Ct=D(0);function Ot(t){const e=tt(t);return pt()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:Ct}function kt(t,e,i,s){void 0===e&&(e=!1),void 0===i&&(i=!1);const n=t.getBoundingClientRect(),o=Lt(t);let l=D(1);e&&(s?st(s)&&(l=Tt(s)):l=Tt(t));const a=function(t,e,i){return void 0===e&&(e=!1),!(!i||e&&i!==tt(t))&&e}(o,i,s)?Ot(o):D(0);let r=(n.left+a.x)/l.x,c=(n.top+a.y)/l.y,d=n.width/l.x,h=n.height/l.y;if(o){const t=tt(o),e=s&&st(s)?tt(s):s;let i=t,n=St(i);for(;n&&s&&e!==i;){const t=Tt(n),e=n.getBoundingClientRect(),s=_t(n),o=e.left+(n.clientLeft+parseFloat(s.paddingLeft))*t.x,l=e.top+(n.clientTop+parseFloat(s.paddingTop))*t.y;r*=t.x,c*=t.y,d*=t.x,h*=t.y,r+=o,c+=l,i=tt(n),n=St(i)}}return J({width:d,height:h,x:r,y:c})}function Dt(t,e){const i=vt(t).scrollLeft;return e?e.left+i:kt(et(t)).left+i}function Ht(t,e){const i=t.getBoundingClientRect();return{x:i.left+e.scrollLeft-Dt(t,i),y:i.top+e.scrollTop}}const Nt=new Set(["absolute","fixed"]);function It(t,e,i){let s;if("viewport"===e)s=function(t,e){const i=tt(t),s=et(t),n=i.visualViewport;let o=s.clientWidth,l=s.clientHeight,a=0,r=0;if(n){o=n.width,l=n.height;const t=pt();(!t||t&&"fixed"===e)&&(a=n.offsetLeft,r=n.offsetTop)}const c=Dt(s);if(c<=0){const t=s.ownerDocument,e=t.body,i=getComputedStyle(e),n="CSS1Compat"===t.compatMode&&parseFloat(i.marginLeft)+parseFloat(i.marginRight)||0,l=Math.abs(s.clientWidth-e.clientWidth-n);l<=25&&(o-=l)}else c<=25&&(o+=c);return{width:o,height:l,x:a,y:r}}(t,i);else if("document"===e)s=function(t){const e=et(t),i=vt(t),s=t.ownerDocument.body,n=C(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=C(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let l=-i.scrollLeft+Dt(t);const a=-i.scrollTop;return"rtl"===_t(s).direction&&(l+=C(e.clientWidth,s.clientWidth)-n),{width:n,height:o,x:l,y:a}}(et(t));else if(st(e))s=function(t,e){const i=kt(t,!0,"fixed"===e),s=i.top+t.clientTop,n=i.left+t.clientLeft,o=nt(t)?Tt(t):D(1);return{width:t.clientWidth*o.x,height:t.clientHeight*o.y,x:n*o.x,y:s*o.y}}(e,i);else{const i=Ot(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return J(s)}function Mt(t,e){const i=wt(t);return!(i===e||!st(i)||bt(i))&&("fixed"===_t(i).position||Mt(i,e))}function Rt(t,e,i){const s=nt(e),n=et(e),o="fixed"===i,l=kt(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const r=D(0);function c(){r.x=Dt(n)}if(s||!s&&!o)if(("body"!==Q(e)||at(n))&&(a=vt(e)),s){const t=kt(e,!0,o,e);r.x=t.x+e.clientLeft,r.y=t.y+e.clientTop}else n&&c();o&&!s&&n&&c();const d=!n||s||o?D(0):Ht(n,a);return{x:l.left+a.scrollLeft-r.x-d.x,y:l.top+a.scrollTop-r.y-d.y,width:l.width,height:l.height}}function Bt(t){return"static"===_t(t).position}function Ft(t,e){if(!nt(t)||"fixed"===_t(t).position)return null;if(e)return e(t);let i=t.offsetParent;return et(t)===i&&(i=i.ownerDocument.body),i}function Pt(t,e){const i=tt(t);if(ht(t))return i;if(!nt(t)){let e=wt(t);for(;e&&!bt(e);){if(st(e)&&!Bt(e))return e;e=wt(e)}return i}let s=Ft(t,e);for(;s&&ct(s)&&Bt(s);)s=Ft(s,e);return s&&bt(s)&&Bt(s)&&!mt(s)?i:s||function(t){let e=wt(t);for(;nt(e)&&!bt(e);){if(mt(e))return e;if(ht(e))return null;e=wt(e)}return null}(t)||i}const qt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:i,offsetParent:s,strategy:n}=t;const o="fixed"===n,l=et(s),a=!!e&&ht(e.floating);if(s===l||a&&o)return i;let r={scrollLeft:0,scrollTop:0},c=D(1);const d=D(0),h=nt(s);if((h||!h&&!o)&&(("body"!==Q(s)||at(l))&&(r=vt(s)),nt(s))){const t=kt(s);c=Tt(s),d.x=t.x+s.clientLeft,d.y=t.y+s.clientTop}const u=!l||h||o?D(0):Ht(l,r);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-r.scrollLeft*c.x+d.x+u.x,y:i.y*c.y-r.scrollTop*c.y+d.y+u.y}},getDocumentElement:et,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:s,strategy:n}=t;const o=[..."clippingAncestors"===i?ht(e)?[]:function(t,e){const i=e.get(t);if(i)return i;let s=xt(t,[],!1).filter(t=>st(t)&&"body"!==Q(t)),n=null;const o="fixed"===_t(t).position;let l=o?wt(t):t;for(;st(l)&&!bt(l);){const e=_t(l),i=mt(l);i||"fixed"!==e.position||(n=null),(o?!i&&!n:!i&&"static"===e.position&&n&&Nt.has(n.position)||at(l)&&!i&&Mt(t,l))?s=s.filter(t=>t!==l):n=e,l=wt(l)}return e.set(t,s),s}(e,this._c):[].concat(i),s],l=o[0],a=o.reduce((t,i)=>{const s=It(e,i,n);return t.top=C(s.top,t.top),t.right=T(s.right,t.right),t.bottom=T(s.bottom,t.bottom),t.left=C(s.left,t.left),t},It(e,l,n));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Pt,getElementRects:async function(t){const e=this.getOffsetParent||Pt,i=this.getDimensions,s=await i(t.floating);return{reference:Rt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:i}=At(t);return{width:e,height:i}},getScale:Tt,isElement:st,isRTL:function(t){return"rtl"===_t(t).direction}};function $t(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}const Wt=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var i,s;const{placement:n,middlewareData:o,rects:l,initialPlacement:a,platform:r,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...p}=M(t,e);if(null!=(i=o.arrow)&&i.alignmentOffset)return{};const y=R(n),b=$(a),_=R(a)===a,v=await(null==r.isRTL?void 0:r.isRTL(c.floating)),w=u||(_||!m?[K(a)]:function(t){const e=K(t);return[j(t),e,j(e)]}(a)),E="none"!==f;!u&&E&&w.push(...function(t,e,i,s){const n=B(t);let o=function(t,e,i){switch(t){case"top":case"bottom":return i?e?V:z:e?z:V;case"left":case"right":return e?U:Y;default:return[]}}(R(t),"start"===i,s);return n&&(o=o.map(t=>t+"-"+n),e&&(o=o.concat(o.map(j)))),o}(a,m,f,v));const x=[a,...w],S=await Z(e,p),A=[];let L=(null==(s=o.flip)?void 0:s.overflows)||[];if(d&&A.push(S[y]),h){const t=function(t,e,i){void 0===i&&(i=!1);const s=B(t),n=W(t),o=P(n);let l="x"===n?s===(i?"end":"start")?"right":"left":"start"===s?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=K(l)),[l,K(l)]}(n,l,v);A.push(S[t[0]],S[t[1]])}if(L=[...L,{placement:n,overflows:A}],!A.every(t=>t<=0)){var T,C;const t=((null==(T=o.flip)?void 0:T.index)||0)+1,e=x[t];if(e&&("alignment"!==h||b===$(e)||L.every(t=>$(t.placement)!==b||t.overflows[0]>0)))return{data:{index:t,overflows:L},reset:{placement:e}};let i=null==(C=L.filter(t=>t.overflows[0]<=0).sort((t,e)=>t.overflows[1]-e.overflows[1])[0])?void 0:C.placement;if(!i)switch(g){case"bestFit":{var O;const t=null==(O=L.filter(t=>{if(E){const e=$(t.placement);return e===b||"y"===e}return!0}).map(t=>[t.placement,t.overflows.filter(t=>t>0).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:O[0];t&&(i=t);break}case"initialPlacement":i=a}if(n!==i)return{reset:{placement:i}}}return{}}}};class jt extends _{constructor(t,e={}){var i;if(super(t,e),!t)return;const{modalType:s,dataset:n={},datasetElement:o,triggerArray:l}=this._config;this.isModal="modal"===s,this.isPopover="popover"===s,this.isOffcanvas="offcanvas"===s,this._dataset=Object.assign({toggleStateShown:"shown"},n,null!==(i=o?.dataset)&&void 0!==i?i:{});const{modalSettings:a={},toggleElement:r,toggleState:c,toggleStateShown:d}=this._dataset;if(this._modalSettings=a,l)this._triggerArray=l;else{const t=r&&r.trim();this._triggerArray=t?Array.from(document.querySelectorAll(t)):[]}this._triggerElement=this._triggerArray?.length?this._triggerArray[0]:null,this.hasHover=this.isPopover&&this._modalSettings?.triggerOnHover&&this._triggerElement,this._isOpen=c===d,this._isTransitioning=!1,this._dialog=null,this._modal=this._getModalMarkup(),this._backdrop=this._initializeBackDrop(),this._scrollBar=this._initializeScrollbar(),this.init()}static get NAME(){return"modal"}defaultConfig(){return{modalType:"modal",triggerArray:null,dataset:null,datasetElement:this._element,rootElement:document.body,classModalInitialized:"bb-modal-initialized",classModalHeader:"bb-modal-header",classModalTitle:"bb-modal-title",classTarget:"bb-modal-body",classModal:"bb-modal",classModalDialog:"bb-modal-dialog",classModalContent:"bb-modal-content",classAnimation:"fade",classTrigger:"",classShow:"show",classToggledOn:"is-toggled-on",classToggledOff:"is-toggled-off",classRootOpen:"modal-open",classDismiss:"is-close-modal",classStatic:"is-modal-static",classAnimatedWaiting:"animate__waiting",classAnimating:"is-animating",selectorFocus:".is-focus-first",selectorText:".toggle__text",instanceIndex:0,cachePrefix:"bb-modal-"}}init(){this._setupClasses(),this._addAriaAndToggledClass(),this._attachClickHandler(),this._attachHoverHandler(),this._isOpen&&(this._isOpen=!1,this.show(),this._setTransitioning(!1)),this.handleCustomState(this._dataset?.toggleState),this._onEscape=this._closeOnEscapeKey.bind(this),g(window,u.INIT,{target:this._element,modal:this._modal})}_setupClasses(){const t=this._element,e=this._modal,i=this._triggerArray,{classTrigger:s,classTarget:n,instanceIndex:o}=this._config,{placement:l="start",popoverPlacement:a="bottom"}=this._modalSettings;t.classList.add(n);const r=`bb-modal-${o}`;if(t.setAttribute("id",r),this.isOffcanvas)e.classList.add(`placement-${l}`);else if(this.isPopover){const t=a.startsWith("top")||a.startsWith("bottom")?"y":"x";e.classList.add(`placement-${t}`)}if(s&&i?.length)for(const t of i)t.classList.contains(s)||(t.classList.add(s),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-controls",`#${r}`),"DIV"!==t.tagName.toUpperCase()||t?.role||(t.setAttribute("role","button"),t.setAttribute("tabindex",0)))}_attachClickHandler(){this.clickHandler=this.toggle.bind(this);const t=this._triggerArray;if(t?.length)for(const e of t)e.addEventListener("click",this.clickHandler),["BUTTON","INPUT"].includes(e.tagName)||e.addEventListener("keydown",t=>{13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.clickHandler())})}_attachHoverHandler(){if(!this.hasHover)return;const t=this._triggerElement,e=this._modal;let i;const s=()=>{clearTimeout(i),i=setTimeout(()=>{this._isOpen&&this.hide(!0)},120)};t.addEventListener("pointerenter",()=>{clearTimeout(i),this._isOpen||this.show(!0)}),t.addEventListener("pointerleave",t=>{e.contains(t.relatedTarget)||s()}),e.addEventListener("pointerenter",()=>{clearTimeout(i)}),e.addEventListener("pointerleave",e=>{t.contains(e.relatedTarget)||s()})}_isOpenHovered(){return!!this.hasHover&&(this._triggerElement.matches(":hover")||this._modal.matches(":hover"))}handleCustomState(t){if("custom"===t){const{uniqueId:t,customState:e="delay",delayTime:i,scrollElement:s,minTimeOnPage:n,storedTime:o}=this._modalSettings,l=!!t&&`${this._config.cachePrefix}${t}`;if(l&&this.getClosedState(l))return;if("delay"===e?this.triggerByDelay(i):"scrollElement"===e?this.triggerByScrollToElement(s):"exitIntent"===e&&this.triggerByExitIntent(n),l){const t=o;t&&this._element.addEventListener(u.HIDDEN,()=>{this.setClosedState(l,t)})}}}triggerByDelay(t){let e=0;if(t){const i=parseInt(t,10);isNaN(i)||(e=i)}setTimeout(()=>{this.show()},1e3*e)}triggerByExitIntent(t){t=parseInt(t),isNaN(t)&&(t=5e3);const e=t=>{t.clientY<=0&&(this.show(),document.removeEventListener("mouseleave",e))};setTimeout(()=>{document.addEventListener("mouseleave",e)},1e3*t)}triggerByScrollToElement(t){if(!t)return;const e=document.querySelectorAll(t);if(!e.length)return;const i=new IntersectionObserver(t=>{for(const e of t)if(e.isIntersecting){this.show(),i.disconnect();break}},{root:null,threshold:0});e.forEach(t=>i.observe(t))}getClosedState(t){let e=localStorage.getItem(t);return e&&"permanent"!==e&&(e=parseFloat(e),!isNaN(e)&&(new Date).getTime()/864e5>e)?(localStorage.removeItem(t),null):e}setClosedState(t,e){if("permanent"===e)localStorage.setItem(t,e);else if(e=parseFloat(e),!isNaN(e)){const i=(new Date).getTime()/864e5;localStorage.setItem(t,i+e)}}toggle(t){if(t&&t?.preventDefault&&t.preventDefault(),this._triggerArray?.length>1&&i(t.target)){let e=null;const{classTrigger:i}=this._config;i&&(e=t.target.closest(`.${i}`)),e||(e=t.target),this._triggerElement=e}this._isOpenHovered()||(this._isOpen?this.hide():this.show())}show(t=!1){if(!t&&(this._isOpen||this._isTransitioning))return;g(this._element,u.SHOW);const{rootElement:e,classRootOpen:i}=this._config;this._isOpen=!0,this._setTransitioning(!0),this._addAriaAndToggledClass(),this.activeElement=this._triggerElement?this._triggerElement:document.activeElement,this._modalSettings?.disableBackdrop||(this._scrollBar.hide(),this._adjustDialog()),e.classList.add(i),this._setEscapeEvent(),this._backdrop.show(this._showModal.bind(this))}_showModal(){const t=this._modal,e=this._triggerElement,i=this.isModal;if(i?t.style.display="flex":t.style.visibility="visible",t.removeAttribute("aria-hidden"),t.setAttribute("role","dialog"),t.setAttribute("aria-modal",!0),this.isPopover&&e){var s;const i=null!==(s=this._modalSettings?.popoverPlacement)&&void 0!==s?s:"bottom";!function(t,e,i,s){void 0===s&&(s={});const{ancestorScroll:n=!0,ancestorResize:o=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:r=!1}=s,c=Lt(t),d=n||o?[...c?xt(c):[],...xt(e)]:[];d.forEach(t=>{n&&t.addEventListener("scroll",i,{passive:!0}),o&&t.addEventListener("resize",i)});const h=c&&a?function(t,e){let i,s=null;const n=et(t);function o(){var t;clearTimeout(i),null==(t=s)||t.disconnect(),s=null}return function l(a,r){void 0===a&&(a=!1),void 0===r&&(r=1),o();const c=t.getBoundingClientRect(),{left:d,top:h,width:u,height:g}=c;if(a||e(),!u||!g)return;const f={rootMargin:-k(h)+"px "+-k(n.clientWidth-(d+u))+"px "+-k(n.clientHeight-(h+g))+"px "+-k(d)+"px",threshold:C(0,T(1,r))||1};let m=!0;function p(e){const s=e[0].intersectionRatio;if(s!==r){if(!m)return l();s?l(!1,s):i=setTimeout(()=>{l(!1,1e-7)},1e3)}1!==s||$t(c,t.getBoundingClientRect())||l(),m=!1}try{s=new IntersectionObserver(p,{...f,root:n.ownerDocument})}catch(t){s=new IntersectionObserver(p,f)}s.observe(t)}(!0),o}(c,i):null;let u,g=-1,f=null;l&&(f=new ResizeObserver(t=>{let[s]=t;s&&s.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var t;null==(t=f)||t.observe(e)})),i()}),c&&!r&&f.observe(c),f.observe(e));let m=r?kt(t):null;r&&function e(){const s=kt(t);m&&!$t(m,s)&&i(),m=s,u=requestAnimationFrame(e)}(),i()}(e,t,()=>{var s;((t,e,i)=>{const s=new Map,n={platform:qt,...i},o={...n.platform,_c:s};return(async(t,e,i)=>{const{placement:s="bottom",strategy:n="absolute",middleware:o=[],platform:l}=i,a=o.filter(Boolean),r=await(null==l.isRTL?void 0:l.isRTL(e));let c=await l.getElementRects({reference:t,floating:e,strategy:n}),{x:d,y:h}=X(c,s,r),u=s,g={},f=0;for(let i=0;i<a.length;i++){const{name:o,fn:m}=a[i],{x:p,y,data:b,reset:_}=await m({x:d,y:h,initialPlacement:s,placement:u,strategy:n,middlewareData:g,rects:c,platform:l,elements:{reference:t,floating:e}});d=null!=p?p:d,h=null!=y?y:h,g={...g,[o]:{...g[o],...b}},_&&f<=50&&(f++,"object"==typeof _&&(_.placement&&(u=_.placement),_.rects&&(c=!0===_.rects?await l.getElementRects({reference:t,floating:e,strategy:n}):_.rects),({x:d,y:h}=X(c,u,r))),i=-1)}return{x:d,y:h,placement:u,strategy:n,middlewareData:g}})(t,e,{...n,platform:o})})(e,t,{strategy:"fixed",placement:i,middleware:[Wt(),(void 0===s&&(s={}),{name:"shift",options:s,async fn(t){const{x:e,y:i,placement:n}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:a={fn:t=>{let{x:e,y:i}=t;return{x:e,y:i}}},...r}=M(s,t),c={x:e,y:i},d=await Z(t,r),h=$(R(n)),u=F(h);let g=c[u],f=c[h];if(o){const t="y"===u?"bottom":"right";g=I(g+d["y"===u?"top":"left"],g,g-d[t])}if(l){const t="y"===h?"bottom":"right";f=I(f+d["y"===h?"top":"left"],f,f-d[t])}const m=a.fn({...t,[u]:g,[h]:f});return{...m,data:{x:m.x-e,y:m.y-i,enabled:{[u]:o,[h]:l}}}}})]}).then(({x:e,y:i})=>{Object.assign(t.style,{left:`${e}px`,top:`${i}px`})})})}l(t),t.classList.add(this._config.classShow),this._queueCallback(this._transitionEnd.bind(this),i?this._dialog:t)}hide(t=!1){const e=this._modal,{classShow:i,classAnimating:s}=this._config;(t||this._isOpen&&!this._isTransitioning&&!e.classList.contains(s))&&(g(this._element,u.HIDE),this._isOpen=!1,this._setTransitioning(!0),this._addAriaAndToggledClass(),e.classList.remove(i),this._setEscapeEvent(),this._queueCallback(this._hideModal.bind(this),this.isModal?this._dialog:e))}_hideModal(){if(this._isOpen)return;const t=this._modal;this.isModal?t.style.display="none":t.style.visibility="hidden",this._focusElement(this.activeElement),t.setAttribute("aria-hidden",!0),t.removeAttribute("aria-modal"),t.removeAttribute("role");const{classAnimation:e,classAnimatedWaiting:i}=this._config;"custom-animation"===e&&this._element.classList.add(i),this._backdrop.hide(this._transitionEnd.bind(this))}_getModalMarkup(){if(!this?._modal){const t=this._element,e=this.isModal,{classModal:i,classAnimation:s,classModalInitialized:n,modalType:o,instanceIndex:l,classModalDialog:a,classModalContent:r,classModalHeader:c,classModalTitle:d,classDismiss:h}=this._config,{title:u,selector:g,modalPosition:f,cssText:m,cssTextModal:p,closeButtonColor:y,hideCloseButton:b,forceCloseButtons:_}=this._modalSettings,v=document.createElement("div");v.classList.add(i,s,n,`is-${o}`),v.setAttribute("tabindex",-1),u&&v.setAttribute("aria-labelledby",`#bb-dialog-title-${l}`),g&&v.classList.add(g),e&&f&&v.classList.add("modal--custom-position");const w=document.createElement("div");w.classList.add(...a.split(" ")),m&&(e?w.style.cssText=m:v.style.cssText=m),p&&e&&(v.style.cssText=p);const E=document.createElement("div");E.classList.add(r);const x=document.createElement("div");if(x.classList.add(c),u){const t=document.createElement("div");t.classList.add(d),t.textContent=u,t.setAttribute("id",`#bb-dialog-title-${l}`),t.style.cssText="position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0, 0, 0, 0);white-space: nowrap;border-width: 0;",x.appendChild(t),x.classList.add("has-title")}else x.classList.add("has-no-title");if(t.style.cssText){let e=t.style.cssText.split(";");e.length>0&&(e=e.filter(t=>-1!==t.trim().indexOf("--bb--margin-top")||-1!==t.trim().indexOf("--bb--margin-right")),e.length>0&&(x.style.cssText=e.join(";")))}if(!b){const t=document.createElement("button");t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="btn-close__icon"><path d="m13 11.8 6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"/></svg>',t.setAttribute("type","button"),t.setAttribute("aria-label","Close"),t.classList.add("btn-close",h),y&&t.style.setProperty("color",y),t.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.hide()}),x.appendChild(t)}E.appendChild(x),t.parentNode.insertBefore(v,t).appendChild(w).appendChild(E).appendChild(t),t.classList.remove("is-modal-body"),v.addEventListener("click",t=>{E.contains(t.target)||(_?this._highlightModal():this.hide())}),[].slice.call(t.querySelectorAll(`.${h}`)).forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),this.hide()})}),this._dialog=w,this._modal=v}return this._modal}_setEscapeEvent(){const t=this._modal,e=this._onEscape;this._isOpen?t.addEventListener("keydown",e):t.removeEventListener("keydown",e)}_closeOnEscapeKey(t){"Escape"===t.key&&(t.preventDefault(),this._modalSettings?.forceCloseButtons?this._highlightModal():this.hide())}_addAriaAndToggledClass(){const t=this._isOpen,e=this._triggerArray;if(e.length){const{classToggledOn:i,classToggledOff:s}=this._config;for(const n of e)n.classList.toggle(i,t),n.classList.toggle(s,!t),n.setAttribute("aria-expanded",t)}this.hasHover&&this._triggerElement.classList.toggle("is-hovered",t)}_setTransitioning(t){this._isTransitioning=t}_transitionEnd(){this._setTransitioning(!1);const t=this._element,e=this._modal,i=this._modalSettings,s=this._config;this._isOpen?(e.focus(),"true"===this._dataset?.toggleFocusFirstElement&&this._focusFirstFocusableElement(t),g(t,u.SHOWN),g(window,u.SHOWN,{target:t,modal:e,config:s,modalSettings:i})):(s.rootElement.classList.remove(s.classRootOpen),i?.disableBackdrop||(this._resetAdjustments(),this._scrollBar.reset()),g(t,u.HIDDEN),g(window,u.HIDDEN,{target:t,modal:e,config:s,modalSettings:i}))}_focusElement(t){if(!t||!document.contains(t))return;if("function"==typeof t.focus&&t.tabIndex>=0)return void t.focus();const e=t.querySelector('a[href], button:not([disabled]), [tabindex]:not([tabindex="-1"])');e?.focus()}_focusFirstFocusableElement(t){let e=t.querySelector(this._config.selectorFocus);e?"DIV"===e?.tagName&&e.classList.contains("wp-block-button")&&(e=e.querySelector("a")):e=t.querySelector('button, input:not([type="hidden"]), select, textarea, a[href]'),e&&requestAnimationFrame(()=>{e.focus()})}_adjustDialog(){const t=this._element,e=t.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),s=i>0;if(s&&!e){const e=a()?"paddingLeft":"paddingRight";t.style[e]=`${i}px`}if(!s&&e){const e=a()?"paddingRight":"paddingLeft";t.style[e]=`${i}px`}}_resetAdjustments(){const t=this._element;t.style.paddingLeft="",t.style.paddingRight=""}_initializeBackDrop(){const{disableBackdrop:t,forceCloseButtons:e}=this._modalSettings;return new v({isVisible:!t,clickCallback:e?this._highlightModal.bind(this):this.hide.bind(this),rootElement:this._config.rootElement})}_initializeScrollbar(){return this._modalSettings?.disableBackdrop?null:new E}_highlightModal(){const t=this._modal,e=t.style.overflowY,i=this._config,s=this.isModal,n=this._dialog;t.classList.contains(i.classStatic)||(t.classList.add(i.classStatic),t.style.overflowY="hidden",this._queueCallback(()=>{t.classList.remove(i.classStatic),this._queueCallback(()=>{t.style.overflowY=e},s?n:t)},s?n:t))}}r("Modal",jt);const zt=jt;class Vt{constructor(t=""){t||(t=window.location.href),this.parsedURL=new URL(t)}get(t,e=null){return this.parsedURL.searchParams.get(t)||e}set(t,e,i=!0){this.parsedURL.searchParams.set(t,e),i&&history.pushState&&history.pushState({},null,this.parsedURL.href)}delete(t,e=!0){this.parsedURL.searchParams.delete(t),e&&history.pushState&&history.pushState({},null,this.parsedURL.href)}reload(){history?.go?history.go():window.location.reload()}getHref(){return this.parsedURL.href}}window.addEventListener(u.HIDDEN,function({detail:{target:t,modal:e}={}}){t&&e&&t.querySelectorAll(".wp-block-embed-youtube, .wp-block-video, .wp-block-boldblocks-youtube-block").forEach(t=>{var e;t.classList.contains("wp-block-video")?(e=t.querySelector("video"))&&(e.pause(),e.currentTime=0):((t=>t.classList.contains("wp-block-embed-youtube"))(t)||(t=>t.classList.contains("wp-block-boldblocks-youtube-block"))(t))&&(t=>{const e=t.querySelector("iframe");e&&e.src&&e.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")})(t)})}),window.addEventListener(u.SHOWN,function({detail:{target:t,modal:i}={}}){t&&i&&(t.querySelectorAll(".wp-block-embed-youtube").forEach(t=>{const e=t.querySelector("iframe");if(e&&e.src){const t=new Vt(e.src);let i=!1;t.get("enablejsapi")||(t.set("enablejsapi",1,!1),i=!0),t.get("playsinline")||(t.set("playsinline",1,!1),i=!0),i&&e.setAttribute("src",t.getHref())}}),t.querySelectorAll(".wp-block-boldblocks-youtube-block .yb-player").forEach(t=>{let i=f(t.getAttribute("data-params"));"object"===e(i)?i.enablejsapi=1:i={enablejsapi:1},t.setAttribute("data-params",JSON.stringify(i))}))}),d(()=>{let t=[].slice.call(document.querySelectorAll(".is-toggle-content"));if(t.length){const e=t.reduce((t,e)=>{var i;let s=null!==(i=e?.dataset?.toggleType)&&void 0!==i?i:"collapse";return t[s]||(t[s]=[]),t[s].push(e),t},{});function i(t){var e;const i=null!==(e=t?.dataset?.toggleElement)&&void 0!==e?e:"";if(i.includes(">>")){const[e,s]=i.split(">>").map(t=>t.trim());let n=e?t.closest(e):null;return n||(n=document),Array.from(n.querySelectorAll(s))}return null}Object.keys(e).forEach(t=>{let s=0;for(const n of e[t]){const e=i(n);if("collapse"===t)new S(n,{triggerArray:e,classTrigger:"toggle-content-trigger",instanceIndex:s++});else if(["modal","offcanvas","popover"].includes(t)){let i=n?.dataset;const o=i?i?.toggleModalSettings:null;o&&(i={...i,modalSettings:c(o)}),new zt(n,{modalType:t,dataset:i,triggerArray:e,classTrigger:"toggle-content-trigger",classRootOpen:`${t}-open`,classAnimation:i?.revealAnimation?"custom-animation":"modal"===t?"fade":"translate",instanceIndex:s++})}}})}});class Ut{constructor(t,e={}){t&&(this.element=t,this.options=Object.assign({root:window},e),this.root=this.options.root,this.isInFlow=t.classList.contains("is-in-flow"),this.isDetectingScroll=t.classList.contains("is-detecting-scroll"),this.resizeTicking=!1,this.scrollTicking=!1,this.init())}init(){this.eventBinding(),this.isDetectingScroll&&requestAnimationFrame(this.handleScroll.bind(this)),this.isInFlow&&requestAnimationFrame(this.calculateStyle.bind(this))}eventBinding(){this.isDetectingScroll&&this.root.addEventListener("scroll",this.updateOnScroll.bind(this)),this.isInFlow&&this.root.addEventListener("resize",this.updateOnResize.bind(this))}buildPlaceholderNode(){if(!this.placeholderNode){const t=document.createElement("div");t.classList.add("is-sticky-placeholder"),t.style.height=`${this.getOuterHeight()}px`,this.element.insertAdjacentElement("afterend",t),this.placeholderNode=t}}getOuterHeight(){return this.element.offsetHeight+parseFloat(this.elementStyle.marginTop)+parseFloat(this.elementStyle.marginBottom)}calculateStyle(){this.elementStyle||(this.elementStyle=getComputedStyle(this.element)),this.buildPlaceholderNode(),this.placeholderNode.style.height=`${this.getOuterHeight()}px`,this.resizeTicking=!1}updateOnResize(){this.resizeTicking||(requestAnimationFrame(this.calculateStyle.bind(this)),this.resizeTicking=!0)}handleScroll(){this.element.classList.toggle("has-scrolled",this.root.scrollY>0),this.scrollTicking=!1}updateOnScroll(){this.scrollTicking||(requestAnimationFrame(this.handleScroll.bind(this)),this.scrollTicking=!0)}}d(()=>document.querySelectorAll(".is-fixed.is-in-flow, .is-fixed.is-detecting-scroll").forEach(t=>new Ut(t)));const Yt=t=>{const e=t.querySelector("video"),i=t.querySelector(".cbb-video-play-pause");if(e&&i){const t=(t,e)=>{t.classList.toggle("is-paused",e),t.classList.toggle("is-playing",!e)};e.addEventListener("play",()=>{t(i,!1)}),e.addEventListener("pause",()=>{t(i,!0)}),i.addEventListener("click",()=>{e?.paused?e.play():e.pause()})}};d(()=>document.querySelectorAll(".cbb-has-video-controls").forEach(Yt));const Kt=t=>{var e;return null!==(e=t.trim().split(" ")[0])&&void 0!==e?e:""},Jt="animate__waiting";function Xt(t,{effectClass:e,animatingClass:i="is__animating",animatedClass:s="is__animated"}={}){t.style.animation="",e&&t.classList.remove(e),t.classList.remove(i),s&&t.classList.remove(s)}function Zt(t,e={},i=!1){if(!t.length)return;const{animatingClass:s="is__animating",animatedClass:n="is__animated"}=e,o=(({root:t,rootMargin:e="0px"})=>({root:t,rootMargin:e}))(e),l=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting)t.target.classList.contains(n)&&!i||(function(t,e={}){const i=c(t.dataset.revealAnimation);((t,{prefix:e="effect__",name:i,animation:s,multipleTimes:n,animatedClass:o="is__animated",animatingClass:l="is__animating",waitingClass:a=Jt,callback:r,forwards:c})=>{if(!i)return;const d=i.split(","),h=s.split(/,(?![^()]*\))/);let u=0,g=`${e}${d[u]}`,f=Kt(h[u]);const m=d.length;new Promise((i,s)=>{t.classList.remove(a),t.style.animation=h[u],t.classList.add(l,o,g),t.addEventListener("animationend",function(s){var o,a;if(u++,s.stopPropagation(),u<m){if(g&&(t.classList.remove(g),t.style.animation=""),g=null!==(o=d[u])&&void 0!==o&&o?`${e}${d[u]}`:"",g&&null!==(a=h[u])&&void 0!==a&&a){t.classList.add(g);const e=Kt(h[u]);f!==e?(t.style.animation=h[u],f=e):setTimeout(()=>{t.style.animation=h[u]},0)}}else u===m&&(t.classList.remove(l),n&&(c||Xt(t,{effectClass:g,animatedClass:""}),"function"==typeof r&&r()));i(`Animation ${u} ended`)},{once:!1})})})(t,Object.assign(i,e))}(t.target,e),i=!1);else if(t.target.classList.contains(n)&&!t.target.classList.contains(s)){const e=c(t.target.dataset.revealAnimation);e?.multipleTimes&&(Xt(t.target),function(t,{waitingClass:e=Jt}={}){t.classList.add(e)}(t.target))}})},o);t.forEach(t=>{l.observe(t)})}r("doAnimation",Zt),d(()=>{let t=[].slice.call(document.querySelectorAll("[data-reveal-animation]"));t.length&&(t=t.filter(t=>!t.closest(".js-carousel-layout")&&!t.closest(".is-toggle-content")),Zt(t))})})();